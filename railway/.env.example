# =============================================================================
# LAGO - Railway Environment Variables
# =============================================================================
# Copy this file and configure in Railway Dashboard > Variables
# All variables marked [REQUIRED] must be set before deployment
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION [REQUIRED]
# -----------------------------------------------------------------------------
# Railway PostgreSQL Plugin provides these automatically if you add a PostgreSQL service
# Format: postgresql://user:password@host:port/database
DATABASE_URL=

# If not using Railway PostgreSQL Plugin, set these individually:
# POSTGRES_HOST=
# POSTGRES_PORT=5432
# POSTGRES_USER=lago
# POSTGRES_PASSWORD=
# POSTGRES_DB=lago

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION [REQUIRED]
# -----------------------------------------------------------------------------
# Railway Redis Plugin provides this automatically if you add a Redis service
# Format: redis://host:port
REDIS_URL=

# Optional: Separate Redis for caching
# LAGO_REDIS_CACHE_URL=
# LAGO_REDIS_CACHE_PASSWORD=

# -----------------------------------------------------------------------------
# SECURITY KEYS [REQUIRED]
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 64
SECRET_KEY_BASE=

# Generate with: openssl genrsa 2048 | base64 -w 0
# Used for JWT signing
LAGO_RSA_PRIVATE_KEY=

# Generate each with: openssl rand -hex 32
LAGO_ENCRYPTION_PRIMARY_KEY=
LAGO_ENCRYPTION_DETERMINISTIC_KEY=
LAGO_ENCRYPTION_KEY_DERIVATION_SALT=

# -----------------------------------------------------------------------------
# APPLICATION URLS [REQUIRED]
# -----------------------------------------------------------------------------
# Your Railway public URLs (set after first deployment)
# Example: https://lago-api-production.up.railway.app
LAGO_API_URL=
API_URL=

# Example: https://lago-front-production.up.railway.app
LAGO_FRONT_URL=

# -----------------------------------------------------------------------------
# PDF SERVICE [REQUIRED for invoice generation]
# -----------------------------------------------------------------------------
# If using Railway's Gotenberg service
# Example: http://lago-pdf.railway.internal:3000
LAGO_PDF_URL=

# Set to true to disable PDF generation entirely
LAGO_DISABLE_PDF_GENERATION=false

# -----------------------------------------------------------------------------
# RAILS CONFIGURATION
# -----------------------------------------------------------------------------
RAILS_ENV=production
RAILS_LOG_TO_STDOUT=true

# -----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Optional)
# -----------------------------------------------------------------------------
LAGO_FROM_EMAIL=
LAGO_SMTP_ADDRESS=
LAGO_SMTP_PORT=587
LAGO_SMTP_USERNAME=
LAGO_SMTP_PASSWORD=

# -----------------------------------------------------------------------------
# AWS S3 STORAGE (Optional - for file storage)
# -----------------------------------------------------------------------------
LAGO_USE_AWS_S3=false
LAGO_AWS_S3_ACCESS_KEY_ID=
LAGO_AWS_S3_SECRET_ACCESS_KEY=
LAGO_AWS_S3_REGION=us-east-1
LAGO_AWS_S3_BUCKET=
LAGO_AWS_S3_ENDPOINT=

# -----------------------------------------------------------------------------
# GOOGLE CLOUD STORAGE (Optional - alternative to S3)
# -----------------------------------------------------------------------------
LAGO_USE_GCS=false
LAGO_GCS_PROJECT=
LAGO_GCS_BUCKET=

# -----------------------------------------------------------------------------
# GOOGLE OAUTH (Optional - for Google Sign-In)
# -----------------------------------------------------------------------------
GOOGLE_AUTH_CLIENT_ID=
GOOGLE_AUTH_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
# Disable user signup (useful for private instances)
LAGO_DISABLE_SIGNUP=false

# Disable analytics/telemetry
LAGO_DISABLE_SEGMENT=true

# Disable wallet refresh
LAGO_DISABLE_WALLET_REFRESH=false

# Enable Sidekiq Web UI (accessible at /sidekiq)
LAGO_SIDEKIQ_WEB=true

# -----------------------------------------------------------------------------
# ORGANIZATION AUTO-CREATION (Optional)
# -----------------------------------------------------------------------------
# Set to true to auto-create organization on startup
LAGO_CREATE_ORG=false
LAGO_ORG_NAME=
LAGO_ORG_USER_EMAIL=
LAGO_ORG_USER_PASSWORD=
LAGO_ORG_API_KEY=

# -----------------------------------------------------------------------------
# LICENSE (Optional - for enterprise features)
# -----------------------------------------------------------------------------
LAGO_LICENSE=

# -----------------------------------------------------------------------------
# OAUTH PROXY
# -----------------------------------------------------------------------------
LAGO_OAUTH_PROXY_URL=https://proxy.getlago.com

# -----------------------------------------------------------------------------
# AI FEATURES (Optional)
# -----------------------------------------------------------------------------
MISTRAL_API_KEY=
MISTRAL_AGENT_ID=

# -----------------------------------------------------------------------------
# DISABLE SSL (Internal communication)
# -----------------------------------------------------------------------------
LAGO_DISABLE_SSL=true
